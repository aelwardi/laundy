<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <title>{% block title %}Laundry - Service de laverie & pressing en 48h{% endblock %}</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  {% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('app.css') }}">
  {% endblock %}
  
  <style>
    @keyframes fade-in-up {
      from { @apply opacity-0 translate-y-8; }
      to { @apply opacity-100 translate-y-0; }
    }
    
    @keyframes slide-in-right {
      from { @apply opacity-0 translate-x-24; }
      to { @apply opacity-100 translate-x-0; }
    }
    
    @keyframes fade-in {
      from { @apply opacity-0; }
      to { @apply opacity-100; }
    }
    
    @keyframes bounce-in {
      0% { @apply scale-[0.3] opacity-0; }
      50% { @apply scale-105 opacity-100; }
      70% { @apply scale-90; }
      100% { @apply scale-100; }
    }
    
    @keyframes pulse-soft {
      0%, 100% { @apply opacity-100 scale-100; }
      50% { @apply opacity-80 scale-[1.02]; }
    }
    
    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    @keyframes slide-in-mobile {
      from { @apply -translate-x-5 opacity-0; }
      to { @apply translate-x-0 opacity-100; }
    }
    
    .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }
    .animate-slide-in-right { animation: slide-in-right 0.4s ease-out forwards; }
    .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
    .animate-bounce-in { animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards; }
    .animate-pulse-soft { animation: pulse-soft 2s ease-in-out infinite; }
    
    .animate-delay-100 { animation-delay: 0.1s; }
    .animate-delay-200 { animation-delay: 0.2s; }
    .animate-delay-300 { animation-delay: 0.3s; }
    .animate-delay-400 { animation-delay: 0.4s; }
    .animate-delay-500 { animation-delay: 0.5s; }
    .animate-delay-600 { animation-delay: 0.6s; }
    .animate-delay-700 { animation-delay: 0.7s; }
    .animate-delay-800 { animation-delay: 0.8s; }
    .animate-delay-1000 { animation-delay: 1s; }
    .animate-delay-1200 { animation-delay: 1.2s; }
    .animate-delay-1400 { animation-delay: 1.4s; }
    .animate-delay-1600 { animation-delay: 1.6s; }
    .animate-delay-1800 { animation-delay: 1.8s; }
    .animate-delay-2000 { animation-delay: 2s; }
    
    .gradient-animated {
      @apply bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-500;
      background-size: 400% 400%;
      animation: gradient-shift 4s ease infinite;
    }
    
    .smooth-transition { @apply transition-all duration-300 ease-out; }
    .smooth-transition-fast { @apply transition-all duration-200 ease-out; }
    
    .btn-glow { @apply shadow-[0_0_20px_rgba(59,130,246,0.3)]; }
    .btn-glow:hover { @apply shadow-[0_0_30px_rgba(59,130,246,0.5)]; }
    
    html { @apply scroll-smooth; }
    
    .dropdown-shadow {
      @apply shadow-[0_25px_50px_-12px_rgba(0,0,0,0.25),0_0_0_1px_rgba(255,255,255,0.05)];
    }
    
    .parallax-element { @apply transform-gpu backface-hidden; }
    
    body { @apply pt-20; }
    
    .hero-full-height {
      @apply -mt-20 pt-20 min-h-screen relative overflow-hidden;
    }
    
    #navbar {
      @apply z-[1000] fixed top-0 left-0 right-0 transition-all duration-300 ease-out;
      will-change: transform, background-color;
    }
    
    #logo {
      @apply min-w-fit whitespace-nowrap transition-all duration-300 ease-out;
      will-change: color;
    }
    
    #logo-icon {
      @apply flex-shrink-0 transition-all duration-300 ease-out;
      will-change: transform;
    }
    
    #navbar .container,
    #navbar > div {
      @apply min-h-[60px] flex items-center;
    }
    
    .nav-link {
      @apply whitespace-nowrap relative;
    }
    
    .nav-link::after {
      @apply content-[''] absolute -bottom-px left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300;
    }
    
    .nav-link:hover::after {
      @apply w-full;
    }
    
    @media (max-width: 768px) {
      body { @apply pt-[70px]; }
      .hero-full-height { @apply -mt-[70px] pt-[70px]; }
      #navbar { @apply p-3; }
      #navbar .container,
      #navbar > div { @apply min-h-[50px]; }
      
      .mobile-nav-link {
        @apply -translate-x-5 opacity-0;
        animation: slide-in-mobile 0.3s ease-out forwards;
      }
      
      .mobile-nav-link:nth-child(1) { @apply delay-[0.1s]; }
      .mobile-nav-link:nth-child(2) { @apply delay-[0.2s]; }
      .mobile-nav-link:nth-child(3) { @apply delay-[0.3s]; }
      .mobile-nav-link:nth-child(4) { @apply delay-[0.4s]; }
      .mobile-nav-link:nth-child(5) { @apply delay-[0.5s]; }
      .mobile-nav-link:nth-child(6) { @apply delay-[0.6s]; }
      .mobile-nav-link:nth-child(7) { @apply delay-[0.7s]; }
      .mobile-nav-link:nth-child(8) { @apply delay-[0.8s]; }
    }
    
    .btn-loading {
      @apply relative pointer-events-none;
    }
    
    .btn-loading::after {
      @apply content-[''] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-5 h-5 border-2 border-transparent border-t-current rounded-full animate-spin;
    }
    
    .custom-scrollbar::-webkit-scrollbar { @apply w-1; }
    .custom-scrollbar::-webkit-scrollbar-track { @apply bg-slate-100; }
    .custom-scrollbar::-webkit-scrollbar-thumb { @apply bg-slate-300 rounded-sm; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { @apply bg-slate-400; }
    
    .focus-visible:focus-visible {
      @apply outline-2 outline-blue-500 outline-offset-2 rounded-lg;
    }
    
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
    }
    
    #navbar,
    #navbar *,
    .hero-full-height,
    .hero-full-height * {
      backface-visibility: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    section,
    .container,
    main {
      max-width: 100%;
      overflow-x: hidden;
    }
    
    #mobile-menu {
      box-shadow: -10px 0 25px -5px rgba(0, 0, 0, 0.1);
    }
    
    .mobile-nav-link {
      transform: translateX(-20px);
      opacity: 0;
      animation: slide-in-mobile 0.3s ease-out forwards;
    }
    
    .mobile-nav-link:nth-child(1) { animation-delay: 0.1s; }
    .mobile-nav-link:nth-child(2) { animation-delay: 0.2s; }
    .mobile-nav-link:nth-child(3) { animation-delay: 0.3s; }
    .mobile-nav-link:nth-child(4) { animation-delay: 0.4s; }
    .mobile-nav-link:nth-child(5) { animation-delay: 0.5s; }
    .mobile-nav-link:nth-child(6) { animation-delay: 0.6s; }
    .mobile-nav-link:nth-child(7) { animation-delay: 0.7s; }
    .mobile-nav-link:nth-child(8) { animation-delay: 0.8s; }
    
    #hamburger-line-1,
    #hamburger-line-2,
    #hamburger-line-3 {
      @apply origin-center transition-all duration-300 ease-out;
    }
    
    #profile-dropdown {
      @apply backdrop-blur-[10px];
    }
    
    #mobile-menu-overlay {
      @apply backdrop-blur-sm;
    }
    
    nav.bg-white\/95 {
      @apply bg-white/95 border-b border-white/20;
    }
    
    @keyframes slide-in-mobile {
      from {
        transform: translateX(-20px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    .mobile-nav-link:hover {
      transform: translateX(4px);
    }
    
    .mobile-nav-link svg,
    .nav-link svg {
      transition: all 0.3s ease;
    }
    
    .mobile-nav-link:hover svg,
    .nav-link:hover svg {
      transform: scale(1.1);
    }
    
    @media (max-width: 480px) {
      #mobile-menu {
        width: 100vw;
      }
      
      nav {
        padding: 12px 16px;
      }
    }
    
    @media (max-width: 320px) {
      #logo {
        font-size: 1.5rem;
      }
      
      #logo-icon {
        width: 2rem;
        height: 2rem;
      }
      
      #logo-icon svg {
        width: 1.25rem;
        height: 1.25rem;
      }
    }
    
    nav {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    #profile-dropdown {
      transform-origin: top right;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    #profile-dropdown.animate-fade-in {
      animation: dropdown-appear 0.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
    
    @keyframes dropdown-appear {
      from { @apply opacity-0 scale-95 -translate-y-2.5; }
      to { @apply opacity-100 scale-100 translate-y-0; }
    }

    #mobile-menu-btn {
      @apply bg-white/10 backdrop-blur-[10px] border border-white/20 transition-all duration-300 ease-out;
    }
    
    #mobile-menu-btn:hover {
      @apply bg-blue-500/10 border-blue-500/30 scale-105;
    }
    
    #mobile-menu-btn:active {
      @apply scale-95;
    }
    
    #mobile-menu-btn span {
      @apply bg-gradient-to-r from-blue-500 to-purple-500 rounded-sm;
    }
    
    #mobile-menu-btn:hover span {
      @apply bg-gradient-to-r from-blue-600 to-purple-600;
    }
  </style>
</head>

<body class="bg-white font-sans">
  <nav class="fixed top-0 left-0 w-full z-50 transition-all duration-500 ease-in-out bg-transparent px-4 md:px-8 py-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div id="logo-icon" class="w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 ease-in-out transform hover:scale-110 hover:rotate-12">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
        </div>
        <a href="{{ path('app_home') }}" id="logo" class="text-black font-bold text-2xl transition-all duration-300 ease-in-out hover:text-blue-600">Laundry</a>
      </div>

      <div id="desktop-nav" class="hidden md:flex flex-1 justify-center space-x-8 mx-8">
        <a href="{{ path('app_how_works') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
          Comment ça fonctionne
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="{{ path('app_tarification') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
          Prix et services
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="{{ path('app_section') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
          À propos de nous
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="{{ path('app_contact_us') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
          Contactez-Nous
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
        </a>
      </div>

      <div class="flex items-center space-x-4">
        <div class="hidden md:flex items-center space-x-4">
          <div class="relative">
            {% if app.user %}
              <button id="profile-dropdown-btn" class="flex items-center space-x-2 text-black hover:text-blue-500 transition-all duration-300 ease-in-out p-2 rounded-lg hover:bg-gray-50">
                <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                  <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                  </svg>
                </div>
                <svg class="w-4 h-4 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
              </button>
              <div id="profile-dropdown" class="hidden absolute right-0 mt-3 w-56 bg-white rounded-2xl shadow-2xl border border-gray-100 z-50 overflow-hidden backdrop-blur-lg">
                <div class="p-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50">
                  <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                      </svg>
                    </div>
                    <div>
                      <p class="text-sm font-semibold text-gray-900">{{ app.user.email|default('Utilisateur') }}</p>
                      <p class="text-xs text-gray-600">Connecté</p>
                    </div>
                  </div>
                </div>
                <div class="py-2">
                  <a href="{{ path('app_profile') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                    <span>Mon Profil</span>
                  </a>
                  <a href="{{ path('app_order_history') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M8 11v6a2 2 0 002 2h4a2 2 0 002-2v-6M8 11h8"/>
                    </svg>
                    <span>Mes commandes</span>
                  </a>
                  <a href="{{ path('app_ticket') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span>Support</span>
                  </a>
                </div>
                <div class="border-t border-gray-100 py-2">
                  <a href="{{ path('app_logout') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-red-400 group-hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                    </svg>
                    <span>Déconnexion</span>
                  </a>
                </div>
              </div>
            {% else %}
              <a href="{{ path('app_auth') }}" class="flex items-center space-x-2 text-black hover:text-blue-500 font-semibold transition-all duration-300 ease-in-out p-2 rounded-lg hover:bg-gray-50">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span>Connexion</span>
              </a>
            {% endif %}
          </div>
          <a href="{{ path('app_order') }}" id="cta-btn"
            class="bg-gradient-to-r from-blue-500 via-purple-600 to-indigo-700 hover:from-blue-600 hover:via-purple-700 hover:to-indigo-800 text-white font-semibold px-6 py-2.5 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:scale-105 hover:-translate-y-0.5 relative overflow-hidden group">
            <span class="relative z-10">Réservez maintenant</span>
            <div class="absolute inset-0 bg-gradient-to-r from-blue-600 via-purple-700 to-indigo-800 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>
        </div>

        <div class="md:hidden flex items-center space-x-3">
          {% if app.user %}
            <button id="mobile-profile-btn" class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full transition-all duration-300 hover:scale-110">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
              </svg>
            </button>
          {% endif %}
          <button id="mobile-menu-btn" class="flex flex-col justify-center items-center w-12 h-12 rounded-xl transition-all duration-300 group relative overflow-hidden">
            <span class="block w-6 h-0.5 transition-all duration-300" id="hamburger-line-1"></span>
            <span class="block w-6 h-0.5 mt-1.5 transition-all duration-300" id="hamburger-line-2"></span>
            <span class="block w-6 h-0.5 mt-1.5 transition-all duration-300" id="hamburger-line-3"></span>
            
            <div class="absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <div id="mobile-menu-overlay" class="fixed inset-0 bg-blackt bg-opacity-50 z-40 hidden md:hidden transition-opacity duration-300"></div>

  <div id="mobile-menu" class="fixed top-0 right-0 h-full w-80 bg-white shadow-2xl z-50 transform translate-x-full md:hidden transition-transform duration-300 ease-in-out">
    <div class="flex flex-col h-full">
      <div class="flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-600 to-indigo-700 rounded-xl flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>
          </div>
          <span class="text-xl font-bold text-gray-900">Menu</span>
        </div>
        <button id="mobile-menu-close" class="p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200">
          <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <div class="flex-1 py-6">
        <nav class="space-y-2 px-6">
          <a href="{{ path('app_how_works') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
            <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span class="font-medium">Comment ça fonctionne</span>
          </a>
          <a href="{{ path('app_tarification') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
            <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
            </svg>
            <span class="font-medium">Prix et services</span>
          </a>
          <a href="{{ path('app_section') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
            <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
            </svg>
            <span class="font-medium">À propos de nous</span>
          </a>
          <a href="{{ path('app_contact_us') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
            <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            <span class="font-medium">Contactez-Nous</span>
          </a>

          {% if app.user %}
            <div class="border-t border-gray-200 mt-6 pt-6">
              <div class="flex items-center space-x-3 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl mb-4">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                  </svg>
                </div>
                <div>
                  <p class="font-semibold text-gray-900">{{ app.user.email|default('Utilisateur') }}</p>
                  <p class="text-sm text-gray-600">Connecté</p>
                </div>
              </div>

              <a href="{{ path('app_profile') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span class="font-medium">Mon Profil</span>
              </a>
              <a href="{{ path('app_order_history') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M8 11v6a2 2 0 002 2h4a2 2 0 002-2v-6M8 11h8"/>
                </svg>
                <span class="font-medium">Mes commandes</span>
              </a>
              <a href="{{ path('app_ticket') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span class="font-medium">Support</span>
              </a>
              <a href="{{ path('app_logout') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl hover:bg-red-50 hover:text-red-600 transition-all duration-200 group">
                <svg class="w-5 h-5 text-red-400 group-hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                </svg>
                <span class="font-medium">Déconnexion</span>
              </a>
            </div>
          {% else %}
            <div class="border-t border-gray-200 mt-6 pt-6">
              <a href="{{ path('app_auth') }}" class="mobile-nav-link flex items-center space-x-3 p-4 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 transition-all duration-200 group">
                <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span class="font-semibold text-blue-600">Se connecter</span>
              </a>
            </div>
          {% endif %}
        </nav>
      </div>

      <div class="p-6 border-t border-gray-200">
        <a href="{{ path('app_order') }}" class="block w-full bg-gradient-to-r from-blue-500 via-purple-600 to-indigo-700 hover:from-blue-600 hover:via-purple-700 hover:to-indigo-800 text-white font-semibold px-6 py-4 rounded-xl shadow-lg text-center transition-all duration-300 transform hover:scale-105">
          Réservez maintenant
        </a>
      </div>
    </div>
  </div>

  {% block content %}{% endblock %}

  <footer class="bg-gradient-to-b from-gray-50 to-gray-100 border-t border-gray-200 mt-16">
    <div class="max-w-7xl mx-auto px-4 py-12">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
        
        <div class="space-y-4">
          <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900">Laundry</h3>
          </div>
          <p class="text-gray-600 text-sm leading-relaxed">
            Service de laverie et pressing professionnel en 48h. Qualité garantie et respect de l'environnement.
          </p>
          <div class="flex items-center space-x-2 text-sm text-gray-500">
            <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span>Service éco-responsable</span>
          </div>
        </div>

        <div class="space-y-4">
          <h4 class="text-lg font-semibold text-gray-900 flex items-center">
            <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
            </svg>
            Nos Services
          </h4>
          <ul class="space-y-2">
            <li><a href="{{ path('app_how_works') }}" class="text-gray-600 hover:text-blue-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-blue-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Comment ça fonctionne
            </a></li>
            <li><a href="{{ path('app_tarification') }}" class="text-gray-600 hover:text-blue-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-blue-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Prix et services
            </a></li>
            <li><a href="{{ path('app_order') }}" class="text-gray-600 hover:text-blue-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-blue-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Réserver maintenant
            </a></li>
          </ul>
        </div>

        <div class="space-y-4">
          <h4 class="text-lg font-semibold text-gray-900 flex items-center">
            <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
            Support
          </h4>
          <ul class="space-y-2">
            <li><a href="{{ path('app_contact_us') }}" class="text-gray-600 hover:text-green-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-green-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Contactez-nous
            </a></li>
            {% if app.user %}
            <li><a href="{{ path('app_ticket') }}" class="text-gray-600 hover:text-green-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-green-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Centre de support
            </a></li>
            {% endif %}
            <li><a href="{{ path('app_section') }}" class="text-gray-600 hover:text-green-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-green-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              À propos de nous
            </a></li>
          </ul>
        </div>

        <div class="space-y-4">
          <h4 class="text-lg font-semibold text-gray-900 flex items-center">
            <svg class="w-5 h-5 mr-2 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 19h16v-2.172a2 2 0 00-.586-1.414L15 11V7a6 6 0 00-6-6c-3.314 0-6 2.686-6 6v4L4.586 15.414A2 2 0 004 16.828V19z"></path>
            </svg>
            Restez connecté
          </h4>
          
          <div class="space-y-2">
            <p class="text-sm text-gray-600">Recevez nos offres spéciales</p>
            <form class="flex space-x-2" onsubmit="return handleNewsletterSubmit(event)">
              <input 
                type="email" 
                placeholder="votre@email.com" 
                class="flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                required
              >
              <button 
                type="submit" 
                class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 transform hover:scale-105 shadow-lg"
              >
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
              </button>
            </form>
          </div>

          <div class="space-y-2">
            <p class="text-sm text-gray-600">Suivez-nous</p>
            <div class="flex space-x-3">
              <a href="#" class="w-10 h-10 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 shadow-lg group">
                <svg class="w-5 h-5 transition-transform group-hover:scale-110" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                </svg>
              </a>
              <a href="#" class="w-10 h-10 bg-blue-700 hover:bg-blue-800 text-white rounded-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 shadow-lg group">
                <svg class="w-5 h-5 transition-transform group-hover:scale-110" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M18.896 2.003H5.104A3.108 3.108 0 0 0 2 5.11v13.783a3.108 3.108 0 0 0 3.104 3.107h13.793A3.108 3.108 0 0 0 22 18.893V5.11a3.108 3.108 0 0 0-3.104-3.107zm-7.1 15.66h-2.933V9.572h2.933v8.091zm-1.467-9.206a1.7 1.7 0 1 1 0-3.399 1.7 1.7 0 0 1 0 3.399zm10.369 9.206h-2.933v-4.067c0-.97-.017-2.217-1.352-2.217-1.352 0-1.56 1.055-1.56 2.146v4.138h-2.933V9.572h2.818v1.063h.04c.393-.744 1.355-1.528 2.79-1.528 2.984 0 3.532 1.964 3.532 4.518v4.038z" />
                </svg>
              </a>
              <a href="#" class="w-10 h-10 bg-gradient-to-r from-pink-500 to-orange-500 hover:from-pink-600 hover:to-orange-600 text-white rounded-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 shadow-lg group">
                <svg class="w-5 h-5 transition-transform group-hover:scale-110" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.206.056 1.803.247 2.23.415.543.21.93.458 1.34.868.41.41.658.797.868 1.34.168.427.359 1.024.415 2.23.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.056 1.206-.247 1.803-.415 2.23-.21.543-.458.93-.868 1.34-.41.41-.797.658-1.34.868-.427.168-1.024.359-2.23.415-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.206-.056-1.803-.247-2.23-.415-.543-.21-.93-.458-1.34-.868-.41-.41-.658-.797-.868-1.34-.168-.427-.359-1.024-.415-2.23C2.175 15.797 2.163 15.417 2.163 12s.012-3.584.07-4.85c.056-1.206.247-1.803.415-2.23.28-.813.64-1.496 1.323-2.18.684-.684 1.367-1.043 2.18-1.323.768-.264 1.656-.468 2.948-.528C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.014 7.052.072c-1.292.06-2.18.264-2.948.528-.813.28-1.496.64-2.18 1.323-.684.684-1.043 1.367-1.323 2.18-.264.768-.468 1.656-.528 2.948C.014 8.332 0 8.741 0 12c0 3.259.014 3.668.072 4.948.06 1.292.264 2.18.528 2.948.28.813.64 1.496 1.323 2.18.684.684 1.367 1.043 2.18 1.323.768.264 1.656.468 2.948.528C8.332 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 1.292-.06 2.18-.264 2.948-.528.813-.28 1.496-.64 2.18-1.323.684-.684 1.043-1.367 1.323-2.18.264-.768.468-1.656.528-2.948.058-1.28.072-1.689.072-4.948 0-3.259-.014-3.668-.072-4.948-.06-1.292-.264-2.18-.528-2.948-.28-.813-.64-1.496-1.323-2.18-.684-.684-1.367-1.043-2.18-1.323-.768-.264-1.656-.468-2.948-.528C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm7.2-10.406a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88z" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="border-t border-gray-300 pt-6">
        <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
          <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6 text-sm text-gray-600">
            <span class="font-medium">© 2025 Laundry. Tous droits réservés.</span>
            <div class="flex space-x-4">
              <a href="#" class="hover:text-blue-600 transition-colors duration-200">Politique de confidentialité</a>
              <a href="#" class="hover:text-blue-600 transition-colors duration-200">Conditions d'utilisation</a>
              <a href="#" class="hover:text-blue-600 transition-colors duration-200">Mentions légales</a>
            </div>
          </div>

          <button 
            id="back-to-top" 
            class="bg-white hover:bg-gray-50 border border-gray-300 hover:border-blue-300 text-gray-700 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 shadow-sm hover:shadow-md transform hover:scale-105"
            onclick="scrollToTop()"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
            </svg>
            <span>Haut de page</span>
          </button>
        </div>
      </div>
    </div>
  </footer>


  {% block javascripts %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileMenuClose = document.getElementById('mobile-menu-close');
        const profileDropdownBtn = document.getElementById('profile-dropdown-btn');
        const profileDropdown = document.getElementById('profile-dropdown');
        const mobileProfileBtn = document.getElementById('mobile-profile-btn');
        const hamburgerLines = [
          document.getElementById('hamburger-line-1'),
          document.getElementById('hamburger-line-2'),
          document.getElementById('hamburger-line-3')
        ];

        let isMobileMenuOpen = false;
        let isProfileDropdownOpen = false;

        function openMobileMenu() {
          isMobileMenuOpen = true;
          mobileMenu.classList.remove('translate-x-full');
          mobileMenu.classList.add('translate-x-0');
          mobileMenuOverlay.classList.remove('hidden');
          document.body.classList.add('overflow-hidden');
          
          hamburgerLines[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
          hamburgerLines[1].style.opacity = '0';
          hamburgerLines[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
        }

        function closeMobileMenu() {
          isMobileMenuOpen = false;
          mobileMenu.classList.remove('translate-x-0');
          mobileMenu.classList.add('translate-x-full');
          mobileMenuOverlay.classList.add('hidden');
          document.body.classList.remove('overflow-hidden');
          
          hamburgerLines[0].style.transform = '';
          hamburgerLines[1].style.opacity = '';
          hamburgerLines[2].style.transform = '';
        }

        function toggleProfileDropdown() {
          isProfileDropdownOpen = !isProfileDropdownOpen;
          if (isProfileDropdownOpen) {
            profileDropdown.classList.remove('hidden');
            profileDropdown.classList.add('animate-fade-in');
          } else {
            profileDropdown.classList.add('hidden');
            profileDropdown.classList.remove('animate-fade-in');
          }
        }

        if (mobileMenuBtn) {
          mobileMenuBtn.addEventListener('click', function() {
            if (isMobileMenuOpen) {
              closeMobileMenu();
            } else {
              openMobileMenu();
            }
          });
        }

        if (mobileMenuClose) {
          mobileMenuClose.addEventListener('click', closeMobileMenu);
        }

        if (mobileMenuOverlay) {
          mobileMenuOverlay.addEventListener('click', closeMobileMenu);
        }

        if (profileDropdownBtn) {
          profileDropdownBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            toggleProfileDropdown();
          });
        }

        if (mobileProfileBtn) {
          mobileProfileBtn.addEventListener('click', function() {
            openMobileMenu();
            setTimeout(() => {
              const profileSection = document.querySelector('#mobile-menu .border-t');
              if (profileSection) {
                profileSection.scrollIntoView({ behavior: 'smooth' });
              }
            }, 300);
          });
        }

        document.addEventListener('click', function(e) {
          if (profileDropdown && !profileDropdown.contains(e.target) && !profileDropdownBtn.contains(e.target)) {
            isProfileDropdownOpen = false;
            profileDropdown.classList.add('hidden');
            profileDropdown.classList.remove('animate-fade-in');
          }
        });

        window.addEventListener('resize', function() {
          if (window.innerWidth >= 768 && isMobileMenuOpen) {
            closeMobileMenu();
          }
        });

        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
        mobileNavLinks.forEach((link, index) => {
          link.style.animationDelay = `${index * 0.1}s`;
        });

        mobileNavLinks.forEach(link => {
          link.addEventListener('click', function() {
            setTimeout(closeMobileMenu, 150);
          });
        });

        let lastScrollTop = 0;
        const navbar = document.querySelector('nav');
        
        window.addEventListener('scroll', function() {
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          
          if (scrollTop > 50) {
            navbar.classList.add('bg-white/95', 'backdrop-blur-lg', 'shadow-lg');
            navbar.classList.remove('bg-transparent');
          } else {
            navbar.classList.remove('bg-white/95', 'backdrop-blur-lg', 'shadow-lg');
            navbar.classList.add('bg-transparent');
          }
          
          lastScrollTop = scrollTop;
        });

        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape') {
            if (isMobileMenuOpen) {
              closeMobileMenu();
            }
            if (isProfileDropdownOpen) {
              isProfileDropdownOpen = false;
              profileDropdown.classList.add('hidden');
              profileDropdown.classList.remove('animate-fade-in');
            }
          }
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        });
      });

      function scrollToTop() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }

      function handleNewsletterSubmit(event) {
        event.preventDefault();
        const form = event.target;
        const email = form.querySelector('input[type="email"]').value;
        const button = form.querySelector('button');
        
        button.classList.add('btn-loading');
        button.disabled = true;
        
        setTimeout(() => {
          button.classList.remove('btn-loading');
          button.disabled = false;
          form.reset();
          
          const successMsg = document.createElement('div');
          successMsg.className = 'text-green-600 text-sm mt-2';
          successMsg.textContent = 'Merci ! Votre inscription a été prise en compte.';
          form.appendChild(successMsg);
          
          setTimeout(() => {
            if (successMsg.parentNode) {
              successMsg.remove();
            }
          }, 3000);
        }, 1500);
        
        return false;
      }

      if ('IntersectionObserver' in window) {
        const observerOptions = {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('animate-fade-in-up');
              observer.unobserve(entry.target);
            }
          });
        }, observerOptions);

        document.querySelectorAll('.animate-on-scroll').forEach(el => {
          observer.observe(el);
        });
      }
    </script>
  {% endblock %}
</body>

</html>
