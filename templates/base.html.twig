<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <title>{% block title %}Laundry - Service de laverie & pressing en 48h{% endblock %}</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  {% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
  {% endblock %}
  
  <style>
    @keyframes fade-in-up {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slide-in-right {
      from {
        opacity: 0;
        transform: translateX(100px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes fade-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes bounce-in {
      0% {
        transform: scale(0.3);
        opacity: 0;
      }
      50% {
        transform: scale(1.05);
        opacity: 1;
      }
      70% {
        transform: scale(0.9);
      }
      100% {
        transform: scale(1);
      }
    }
    
    @keyframes pulse-soft {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.8;
        transform: scale(1.02);
      }
    }
    
    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    @keyframes spin {
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }
    
    @keyframes slide-in-mobile {
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    .animate-fade-in-up {
      animation: fade-in-up 0.6s ease-out forwards;
    }
    
    .animate-slide-in-right {
      animation: slide-in-right 0.4s ease-out forwards;
    }
    
    .animate-fade-in {
      animation: fade-in 0.3s ease-out forwards;
    }
    
    .animate-bounce-in {
      animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }
    
    .animate-pulse-soft {
      animation: pulse-soft 2s ease-in-out infinite;
    }
    
    .gradient-animated {
      background: linear-gradient(-45deg, #3b82f6, #8b5cf6, #6366f1, #3b82f6);
      background-size: 400% 400%;
      animation: gradient-shift 4s ease infinite;
    }
    
    .smooth-transition {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .smooth-transition-fast {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .btn-glow {
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
    }
    
    .btn-glow:hover {
      box-shadow: 0 0 30px rgba(59, 130, 246, 0.5);
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    .dropdown-shadow {
      box-shadow: 
        0 25px 50px -12px rgba(0, 0, 0, 0.25),
        0 0 0 1px rgba(255, 255, 255, 0.05);
    }
    
    .parallax-element {
      transform-style: preserve-3d;
      backface-visibility: hidden;
    }
    
    @media (max-width: 768px) {
      .mobile-nav-link {
        transform: translateX(-20px);
        opacity: 0;
        animation: slide-in-mobile 0.3s ease-out forwards;
      }
      
      .mobile-nav-link:nth-child(1) { animation-delay: 0.1s; }
      .mobile-nav-link:nth-child(2) { animation-delay: 0.2s; }
      .mobile-nav-link:nth-child(3) { animation-delay: 0.3s; }
      .mobile-nav-link:nth-child(4) { animation-delay: 0.4s; }
    }
    
    .btn-loading {
      position: relative;
      pointer-events: none;
    }
    
    .btn-loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 20px;
      height: 20px;
      border: 2px solid transparent;
      border-top: 2px solid currentColor;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .custom-scrollbar::-webkit-scrollbar {
      width: 4px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f5f9;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 2px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }
    
    .focus-visible:focus-visible {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
      border-radius: 0.5rem;
    }
    
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
    
    
    body {
      padding-top: 80px;
    }
    
    .hero-full-height {
      margin-top: -80px;
      padding-top: 80px;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
    }
    
    #navbar {
      z-index: 1000;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      will-change: transform, background-color;
    }
    
    #logo {
      min-width: fit-content;
      white-space: nowrap;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: color;
    }
    
    #logo-icon {
      flex-shrink: 0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
    }
    
    #navbar {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    #navbar .container,
    #navbar > div {
      min-height: 60px;
      display: flex;
      align-items: center;
    }
    
    .nav-link {
      white-space: nowrap;
      position: relative;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(to right, #3b82f6, #8b5cf6);
      transition: width 0.3s ease;
    }
    
    .nav-link:hover::after {
      width: 100%;
    }
    
    @media (max-width: 768px) {
      body {
        padding-top: 70px;
      }
      
      .hero-full-height {
        margin-top: -70px;
        padding-top: 70px;
      }
      
      #navbar {
        padding: 12px 16px;
      }
      
      #navbar .container,
      #navbar > div {
        min-height: 50px;
      }
    }
    
    #navbar,
    #navbar *,
    .hero-full-height,
    .hero-full-height * {
      backface-visibility: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    section,
    .container,
    main {
      max-width: 100%;
      overflow-x: hidden;
    }
  </style>
</head>

<body class="bg-white font-sans">
  <nav id="navbar"
        class="fixed top-0 left-0 w-full z-50 transition-all duration-500 ease-in-out bg-transparent px-4 md:px-8 py-4 flex items-center justify-between">
        
        <div class="flex items-center space-x-3">
          <div id="logo-icon" class="w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 ease-in-out transform hover:scale-110 hover:rotate-12">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>
          </div>
          <a href="{{ path('app_home') }}" id="logo" class="text-black font-bold text-2xl transition-all duration-300 ease-in-out hover:text-blue-600">Laundry</a>
        </div>

        <button id="mobile-menu-btn" class="md:hidden flex items-center justify-center w-10 h-10 rounded-lg text-black hover:bg-gray-100 transition-colors duration-200">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>

        <div id="desktop-nav" class="hidden md:flex flex-1 justify-center space-x-8">
          <a href="{{ path('app_how_works') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
            Comment ça fonctionne
            <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="{{ path('app_tarification') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
            Prix et services
            <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="{{ path('app_section') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
            À propos de nous
            <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="{{ path('app_contact_us') }}" class="nav-link text-black hover:text-blue-500 transition-all duration-300 ease-in-out font-medium relative group">
            Contactez-Nous
            <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 group-hover:w-full"></span>
          </a>
        </div>

        <div class="hidden md:flex items-center space-x-4">
          <div class="relative">
            {% if app.user %}
              <button id="profile-dropdown-btn" class="flex items-center space-x-2 text-black hover:text-blue-500 transition-all duration-300 ease-in-out p-2 rounded-lg hover:bg-gray-50">
                <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                  <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                  </svg>
                </div>
                <svg class="w-4 h-4 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
              </button>
              <div id="profile-dropdown" class="hidden absolute right-0 mt-3 w-56 bg-white rounded-2xl shadow-2xl border border-gray-100 z-50 overflow-hidden backdrop-blur-lg">
                <div class="p-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50">
                  <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                      </svg>
                    </div>
                    <div>
                      <p class="text-sm font-semibold text-gray-900">{{ app.user.email|default('Utilisateur') }}</p>
                      <p class="text-xs text-gray-600">Connecté</p>
                    </div>
                  </div>
                </div>
                <div class="py-2">
                  <a href="{{ path('app_profile') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                    <span>Mon Profil</span>
                  </a>
                  <a href="{{ path('app_order_history') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M8 11v6a2 2 0 002 2h4a2 2 0 002-2v-6M8 11h8"/>
                    </svg>
                    <span>Mes commandes</span>
                  </a>
                  <a href="{{ path('app_ticket') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span>Support</span>
                  </a>
                </div>
                <div class="border-t border-gray-100 py-2">
                  <a href="{{ path('app_logout') }}" class="flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-all duration-200 group">
                    <svg class="w-4 h-4 text-red-400 group-hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                    </svg>
                    <span>Déconnexion</span>
                  </a>
                </div>
              </div>
            {% else %}
              <a href="{{ path('app_auth') }}" class="flex items-center space-x-2 text-black hover:text-blue-500 font-semibold transition-all duration-300 ease-in-out p-2 rounded-lg hover:bg-gray-50">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span>Connexion</span>
              </a>
            {% endif %}
          </div>
          <a href="{{ path('app_order') }}" id="cta-btn"
            class="bg-gradient-to-r from-blue-500 via-purple-600 to-indigo-700 hover:from-blue-600 hover:via-purple-700 hover:to-indigo-800 text-white font-semibold px-6 py-2.5 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:scale-105 hover:-translate-y-0.5 relative overflow-hidden group">
            <span class="relative z-10">Réservez maintenant</span>
            <div class="absolute inset-0 bg-gradient-to-r from-blue-600 via-purple-700 to-indigo-800 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>
        </div>
  </nav>

  <div id="mobile-menu" class="fixed inset-0 z-40 md:hidden hidden">
    <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" id="mobile-menu-overlay"></div>
    
    <div class="fixed top-0 right-0 h-full w-80 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out" id="mobile-menu-panel">
      <div class="flex flex-col h-full">
        <div class="flex items-center justify-between p-6 border-b border-gray-200">
          <div class="flex items-center space-x-3">
            <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
              </svg>
            </div>
            <span class="text-xl font-bold text-gray-900">Laundry</span>
          </div>
          <button id="mobile-menu-close" class="w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>

        <div class="flex-1 overflow-y-auto py-6">
          <nav class="space-y-2 px-6">
            <a href="{{ path('app_how_works') }}" class="mobile-nav-link flex items-center space-x-3 py-3 px-4 rounded-xl text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span class="font-medium">Comment ça fonctionne</span>
            </a>
            <a href="{{ path('app_tarification') }}" class="mobile-nav-link flex items-center space-x-3 py-3 px-4 rounded-xl text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
              </svg>
              <span class="font-medium">Prix et services</span>
            </a>
            <a href="{{ path('app_section') }}" class="mobile-nav-link flex items-center space-x-3 py-3 px-4 rounded-xl text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
              </svg>
              <span class="font-medium">À propos de nous</span>
            </a>
            <a href="{{ path('app_contact_us') }}" class="mobile-nav-link flex items-center space-x-3 py-3 px-4 rounded-xl text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <span class="font-medium">Contactez-Nous</span>
            </a>
          </nav>

          <div class="mt-8 px-6">
            {% if app.user %}
              <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-4 mb-4">
                <div class="flex items-center space-x-3 mb-4">
                  <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                  </div>
                  <div>
                    <p class="text-sm font-semibold text-gray-900">{{ app.user.email|default('Utilisateur') }}</p>
                    <p class="text-xs text-gray-600">Connecté</p>
                  </div>
                </div>
                <div class="space-y-2">
                  <a href="{{ path('app_profile') }}" class="flex items-center space-x-3 py-2 px-3 rounded-lg text-gray-700 hover:bg-white/50 transition-colors duration-200">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                    <span class="text-sm">Mon Profil</span>
                  </a>
                  <a href="{{ path('app_order_history') }}" class="flex items-center space-x-3 py-2 px-3 rounded-lg text-gray-700 hover:bg-white/50 transition-colors duration-200">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M8 11v6a2 2 0 002 2h4a2 2 0 002-2v-6M8 11h8"/>
                    </svg>
                    <span class="text-sm">Mes commandes</span>
                  </a>
                  <a href="{{ path('app_ticket') }}" class="flex items-center space-x-3 py-2 px-3 rounded-lg text-gray-700 hover:bg-white/50 transition-colors duration-200">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span class="text-sm">Support</span>
                  </a>
                </div>
              </div>
              <a href="{{ path('app_logout') }}" class="flex items-center justify-center space-x-2 w-full py-3 px-4 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-colors duration-200">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                </svg>
                <span class="font-medium">Déconnexion</span>
              </a>
            {% else %}
              <a href="{{ path('app_auth') }}" class="flex items-center justify-center space-x-3 w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-200">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span class="font-semibold">Connexion</span>
              </a>
            {% endif %}
          </div>
        </div>

        <div class="p-6 border-t border-gray-200">
          <a href="{{ path('app_order') }}" class="flex items-center justify-center w-full py-4 px-6 bg-gradient-to-r from-blue-500 via-purple-600 to-indigo-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
            <span>Réservez maintenant</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  {% block content %}{% endblock %}

  <footer class="bg-gradient-to-b from-gray-50 to-gray-100 border-t border-gray-200 mt-16">
    <div class="max-w-7xl mx-auto px-4 py-12">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
        
        <div class="space-y-4">
          <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900">Laundry</h3>
          </div>
          <p class="text-gray-600 text-sm leading-relaxed">
            Service de laverie et pressing professionnel en 48h. Qualité garantie et respect de l'environnement.
          </p>
          <div class="flex items-center space-x-2 text-sm text-gray-500">
            <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span>Service éco-responsable</span>
          </div>
        </div>

        <div class="space-y-4">
          <h4 class="text-lg font-semibold text-gray-900 flex items-center">
            <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
            </svg>
            Nos Services
          </h4>
          <ul class="space-y-2">
            <li><a href="{{ path('app_how_works') }}" class="text-gray-600 hover:text-blue-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-blue-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Comment ça fonctionne
            </a></li>
            <li><a href="{{ path('app_tarification') }}" class="text-gray-600 hover:text-blue-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-blue-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Prix et services
            </a></li>
            <li><a href="{{ path('app_order') }}" class="text-gray-600 hover:text-blue-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-blue-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Réserver maintenant
            </a></li>
          </ul>
        </div>

        <div class="space-y-4">
          <h4 class="text-lg font-semibold text-gray-900 flex items-center">
            <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
            Support
          </h4>
          <ul class="space-y-2">
            <li><a href="{{ path('app_contact_us') }}" class="text-gray-600 hover:text-green-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-green-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Contactez-nous
            </a></li>
            {% if app.user %}
            <li><a href="{{ path('app_ticket') }}" class="text-gray-600 hover:text-green-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-green-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              Centre de support
            </a></li>
            {% endif %}
            <li><a href="{{ path('app_section') }}" class="text-gray-600 hover:text-green-600 text-sm transition-colors duration-200 flex items-center group">
              <svg class="w-3 h-3 mr-2 text-gray-400 group-hover:text-green-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              À propos de nous
            </a></li>
          </ul>
        </div>

        <div class="space-y-4">
          <h4 class="text-lg font-semibold text-gray-900 flex items-center">
            <svg class="w-5 h-5 mr-2 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 19h16v-2.172a2 2 0 00-.586-1.414L15 11V7a6 6 0 00-6-6c-3.314 0-6 2.686-6 6v4L4.586 15.414A2 2 0 004 16.828V19z"></path>
            </svg>
            Restez connecté
          </h4>
          
          <div class="space-y-2">
            <p class="text-sm text-gray-600">Recevez nos offres spéciales</p>
            <form class="flex space-x-2" onsubmit="return handleNewsletterSubmit(event)">
              <input 
                type="email" 
                placeholder="votre@email.com" 
                class="flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                required
              >
              <button 
                type="submit" 
                class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 transform hover:scale-105 shadow-lg"
              >
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
              </button>
            </form>
          </div>

          <div class="space-y-2">
            <p class="text-sm text-gray-600">Suivez-nous</p>
            <div class="flex space-x-3">
              <a href="#" class="w-10 h-10 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 shadow-lg group">
                <svg class="w-5 h-5 transition-transform group-hover:scale-110" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                </svg>
              </a>
              <a href="#" class="w-10 h-10 bg-blue-700 hover:bg-blue-800 text-white rounded-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 shadow-lg group">
                <svg class="w-5 h-5 transition-transform group-hover:scale-110" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M18.896 2.003H5.104A3.108 3.108 0 0 0 2 5.11v13.783a3.108 3.108 0 0 0 3.104 3.107h13.793A3.108 3.108 0 0 0 22 18.893V5.11a3.108 3.108 0 0 0-3.104-3.107zm-7.1 15.66h-2.933V9.572h2.933v8.091zm-1.467-9.206a1.7 1.7 0 1 1 0-3.399 1.7 1.7 0 0 1 0 3.399zm10.369 9.206h-2.933v-4.067c0-.97-.017-2.217-1.352-2.217-1.352 0-1.56 1.055-1.56 2.146v4.138h-2.933V9.572h2.818v1.063h.04c.393-.744 1.355-1.528 2.79-1.528 2.984 0 3.532 1.964 3.532 4.518v4.038z" />
                </svg>
              </a>
              <a href="#" class="w-10 h-10 bg-gradient-to-r from-pink-500 to-orange-500 hover:from-pink-600 hover:to-orange-600 text-white rounded-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 shadow-lg group">
                <svg class="w-5 h-5 transition-transform group-hover:scale-110" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.206.056 1.803.247 2.23.415.543.21.93.458 1.34.868.41.41.658.797.868 1.34.168.427.359 1.024.415 2.23.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.056 1.206-.247 1.803-.415 2.23-.21.543-.458.93-.868 1.34-.41.41-.797.658-1.34.868-.427.168-1.024.359-2.23.415-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.206-.056-1.803-.247-2.23-.415-.543-.21-.93-.458-1.34-.868-.41-.41-.658-.797-.868-1.34-.168-.427-.359-1.024-.415-2.23C2.175 15.797 2.163 15.417 2.163 12s.012-3.584.07-4.85c.056-1.206.247-1.803.415-2.23.21-.543.458-.93.868-1.34.41-.41.797-.658 1.34-.868.427-.168 1.024-.359 2.23-.415C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.014 7.052.072c-1.292.06-2.18.264-2.948.528-.813.28-1.496.64-2.18 1.323-.684.684-1.043 1.367-1.323 2.18-.264.768-.468 1.656-.528 2.948C.014 8.332 0 8.741 0 12c0 3.259.014 3.668.072 4.948.06 1.292.264 2.18.528 2.948.28.813.64 1.496 1.323 2.18.684.684 1.367 1.043 2.18 1.323.768.264 1.656.468 2.948.528C8.332 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 1.292-.06 2.18-.264 2.948-.528.813-.28 1.496-.64 2.18-1.323.684-.684 1.043-1.367 1.323-2.18.264-.768.468-1.656.528-2.948.058-1.28.072-1.689.072-4.948 0-3.259-.014-3.668-.072-4.948-.06-1.292-.264-2.18-.528-2.948-.28-.813-.64-1.496-1.323-2.18-.684-.684-1.367-1.043-2.18-1.323-.768-.264-1.656-.468-2.948-.528C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm7.2-10.406a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88z" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="border-t border-gray-300 pt-6">
        <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
          <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6 text-sm text-gray-600">
            <span class="font-medium">© 2025 Laundry. Tous droits réservés.</span>
            <div class="flex space-x-4">
              <a href="#" class="hover:text-blue-600 transition-colors duration-200">Politique de confidentialité</a>
              <a href="#" class="hover:text-blue-600 transition-colors duration-200">Conditions d'utilisation</a>
              <a href="#" class="hover:text-blue-600 transition-colors duration-200">Mentions légales</a>
            </div>
          </div>

          <button 
            id="back-to-top" 
            class="bg-white hover:bg-gray-50 border border-gray-300 hover:border-blue-300 text-gray-700 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 shadow-sm hover:shadow-md transform hover:scale-105"
            onclick="scrollToTop()"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
            </svg>
            <span>Haut de page</span>
          </button>
        </div>
      </div>
    </div>
  </footer>

  <script>
    let isScrolled = false;
    let ticking = false;
    
    function isAdminOrAuthPage() {
      const currentPath = window.location.pathname;
      const routeName = '{{ app.request.attributes.get('_route') }}';
      
      return currentPath.startsWith('/admin') || 
             currentPath.startsWith('/auth') || 
             currentPath === '/login' || 
             currentPath === '/register' ||
             routeName?.startsWith('admin_') ||
             routeName?.startsWith('auth_') ||
             routeName === 'app_login' ||
             routeName === 'app_register';
    }
    
    function initHeaderAnimation() {
      const navbar = document.getElementById('navbar');
      if (navbar) {
        navbar.style.transform = 'translateY(-100%)';
        navbar.style.opacity = '0';
        
        setTimeout(() => {
          navbar.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
          navbar.style.transform = 'translateY(0)';
          navbar.style.opacity = '1';
        }, 100);
      }
    }
    
    function handleScrollEffect() {
      if (isAdminOrAuthPage()) return;
      
      const navbar = document.getElementById('navbar');
      const logo = document.getElementById('logo');
      const logoIcon = document.getElementById('logo-icon');
      const navLinks = document.querySelectorAll('.nav-link');
      const ctaBtn = document.getElementById('cta-btn');
      const profileBtn = document.getElementById('profile-dropdown-btn');
      
      if (!navbar) return;
      
      const scrollY = window.scrollY;
      const threshold = 100;
      
      if (scrollY > threshold && !isScrolled) {
        isScrolled = true;
        
        navbar.classList.remove('bg-transparent');
        navbar.classList.add(
          'bg-white/90', 
          'backdrop-blur-xl', 
          'shadow-2xl', 
          'border-b', 
          'border-white/20'
        );
        
        if (logo) {
          logo.classList.add('text-gray-900', 'text-xl');
          logo.classList.remove('text-black', 'text-2xl');
        }
        
        if (logoIcon) {
          logoIcon.classList.add('w-8', 'h-8');
          logoIcon.classList.remove('w-10', 'h-10');
        }
        
        navLinks.forEach(link => {
          link.classList.add('text-gray-700', 'text-sm', 'font-semibold');
          link.classList.remove('text-black', 'font-medium');
        });
        
        if (profileBtn) {
          profileBtn.classList.add('text-gray-700');
          profileBtn.classList.remove('text-black');
        }
        
        if (ctaBtn) {
          ctaBtn.classList.add('px-4', 'py-2', 'text-sm');
          ctaBtn.classList.remove('px-6', 'py-2.5');
        }
        
        navbar.classList.add('py-3');
        navbar.classList.remove('py-4');
        
      } else if (scrollY <= threshold && isScrolled) {
        isScrolled = false;
        
        navbar.classList.add('bg-transparent');
        navbar.classList.remove(
          'bg-white/90', 
          'backdrop-blur-xl', 
          'shadow-2xl', 
          'border-b', 
          'border-white/20'
        );
        
        if (logo) {
          logo.classList.remove('text-gray-900', 'text-xl');
          logo.classList.add('text-black', 'text-2xl');
        }
        
        if (logoIcon) {
          logoIcon.classList.remove('w-8', 'h-8');
          logoIcon.classList.add('w-10', 'h-10');
        }
        
        navLinks.forEach(link => {
          link.classList.remove('text-gray-700', 'text-sm', 'font-semibold');
          link.classList.add('text-black', 'font-medium');
        });
        
        if (profileBtn) {
          profileBtn.classList.remove('text-gray-700');
          profileBtn.classList.add('text-black');
        }
        
        if (ctaBtn) {
          ctaBtn.classList.remove('px-4', 'py-2', 'text-sm');
          ctaBtn.classList.add('px-6', 'py-2.5');
        }
        
        navbar.classList.remove('py-3');
        navbar.classList.add('py-4');
      }
      
      if (logo) {
        const parallaxValue = Math.min(scrollY * 0.01, 5);
        if (scrollY > 50) {
          logo.style.transform = `translateY(${parallaxValue}px)`;
        } else {
          logo.style.transform = 'translateY(0)';
        }
      }
    }
    
    function initProfileDropdown() {
      const profileBtn = document.getElementById('profile-dropdown-btn');
      const profileDropdown = document.getElementById('profile-dropdown');
      
      if (!profileBtn || !profileDropdown) return;
      
      let isOpen = false;
      
      function openDropdown() {
        if (isOpen) return;
        isOpen = true;
        
        profileDropdown.classList.remove('hidden');
        profileDropdown.style.opacity = '0';
        profileDropdown.style.transform = 'translateY(-20px) scale(0.9)';
        
        requestAnimationFrame(() => {
          profileDropdown.style.transition = 'all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
          profileDropdown.style.opacity = '1';
          profileDropdown.style.transform = 'translateY(0) scale(1)';
        });
        
        const arrow = profileBtn.querySelector('svg:last-child');
        if (arrow) {
          arrow.style.transform = 'rotate(180deg)';
        }
      }
      
      function closeDropdown() {
        if (!isOpen) return;
        isOpen = false;
        
        profileDropdown.style.transition = 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)';
        profileDropdown.style.opacity = '0';
        profileDropdown.style.transform = 'translateY(-20px) scale(0.9)';
        
        setTimeout(() => {
          profileDropdown.classList.add('hidden');
        }, 200);
        
        const arrow = profileBtn.querySelector('svg:last-child');
        if (arrow) {
          arrow.style.transform = 'rotate(0deg)';
        }
      }
      
      profileBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        isOpen ? closeDropdown() : openDropdown();
      });
      
      document.addEventListener('click', (e) => {
        if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
          closeDropdown();
        }
      });
      
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && isOpen) {
          closeDropdown();
        }
      });
    }
    
    function initMobileMenu() {
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const mobileMenuPanel = document.getElementById('mobile-menu-panel');
      const mobileMenuClose = document.getElementById('mobile-menu-close');
      const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
      
      if (!mobileMenuBtn || !mobileMenu) return;
      
      let isMenuOpen = false;
      
      function openMobileMenu() {
        if (isMenuOpen) return;
        isMenuOpen = true;
        
        mobileMenu.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        
        requestAnimationFrame(() => {
          mobileMenuPanel.style.transform = 'translateX(0)';
          mobileMenuOverlay.style.opacity = '1';
        });
      }
      
      function closeMobileMenu() {
        if (!isMenuOpen) return;
        isMenuOpen = false;
        
        mobileMenuPanel.style.transform = 'translateX(100%)';
        mobileMenuOverlay.style.opacity = '0';
        
        setTimeout(() => {
          mobileMenu.classList.add('hidden');
          document.body.style.overflow = '';
        }, 300);
      }
      
      mobileMenuBtn.addEventListener('click', openMobileMenu);
      mobileMenuClose?.addEventListener('click', closeMobileMenu);
      mobileMenuOverlay?.addEventListener('click', closeMobileMenu);
      
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && isMenuOpen) {
          closeMobileMenu();
        }
      });
      
      document.querySelectorAll('.mobile-nav-link').forEach(link => {
        link.addEventListener('click', () => {
          setTimeout(closeMobileMenu, 200);
        });
      });
    }
    
    function initNavAnimations() {
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-3px)';
        });
        
        link.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0)';
        });
      });
      
      const ctaButton = document.getElementById('cta-btn');
      if (ctaButton) {
        ctaButton.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-3px) scale(1.05)';
          this.style.boxShadow = '0 20px 40px rgba(59, 130, 246, 0.3)';
        });
        
        ctaButton.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0) scale(1)';
          this.style.boxShadow = '';
        });
      }
      
      const logoIcon = document.getElementById('logo-icon');
      if (logoIcon) {
        logoIcon.addEventListener('mouseenter', function() {
          this.style.transform = 'scale(1.1) rotate(15deg)';
        });
        
        logoIcon.addEventListener('mouseleave', function() {
          this.style.transform = 'scale(1) rotate(0deg)';
        });
      }
    }
    
    function initAdminAuthStyles() {
      if (!isAdminOrAuthPage()) return;
      
      const navbar = document.getElementById('navbar');
      if (!navbar) return;
      
      navbar.classList.add('bg-white/95', 'backdrop-blur-md', 'shadow-lg', 'border-b', 'border-gray-200');
      navbar.classList.remove('bg-transparent');
      
      const logo = document.getElementById('logo');
      const navLinks = document.querySelectorAll('.nav-link');
      
      if (logo) {
        logo.classList.add('text-gray-900');
        logo.classList.remove('text-black');
      }
      
      navLinks.forEach(link => {
        link.classList.add('text-gray-700');
        link.classList.remove('text-black');
      });
    }
    
    function throttledScrollHandler() {
      if (!ticking) {
        requestAnimationFrame(() => {
          handleScrollEffect();
          ticking = false;
        });
        ticking = true;
      }
    }
    
    function optimizedScrollHandler() {
      throttledScrollHandler();
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      initHeaderAnimation();
      initProfileDropdown();
      initMobileMenu();
      initNavAnimations();
      initAdminAuthStyles();
      
      if (!isAdminOrAuthPage()) {
        window.addEventListener('scroll', optimizedScrollHandler, { passive: true });
      }
      
      const preloadImages = [
      ];
      
      preloadImages.forEach(src => {
        const img = new Image();
        img.src = src;
      });
    });

    function handleNewsletterSubmit(event) {
      event.preventDefault();
      const form = event.target;
      const email = form.querySelector('input[type="email"]').value;
      const button = form.querySelector('button[type="submit"]');
      
      button.innerHTML = `
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      `;
      
      setTimeout(() => {
        button.innerHTML = `
          <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        `;
        button.classList.add('bg-green-500', 'hover:bg-green-600');
        button.classList.remove('bg-blue-600', 'hover:bg-blue-700');
        
        const successMsg = document.createElement('div');
        successMsg.className = 'text-green-600 text-sm mt-2 animate-fade-in';
        successMsg.textContent = 'Merci pour votre inscription !';
        form.appendChild(successMsg);
        
        setTimeout(() => {
          button.innerHTML = `
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
            </svg>
          `;
          button.classList.remove('bg-green-500', 'hover:bg-green-600');
          button.classList.add('bg-blue-600', 'hover:bg-blue-700');
          form.reset();
          if (successMsg.parentNode) {
            successMsg.remove();
          }
        }, 3000);
      }, 1500);
    }
    
    function scrollToTop() {
      const navbar = document.getElementById('navbar');
      const duration = 800;
      const start = window.pageYOffset;
      const startTime = performance.now();
      
      function animateScroll(currentTime) {
        const timeElapsed = currentTime - startTime;
        const progress = Math.min(timeElapsed / duration, 1);
        
        const ease = progress < 0.5 
          ? 4 * progress * progress * progress 
          : 1 - Math.pow(-2 * progress + 2, 3) / 2;
        
        window.scrollTo(0, start * (1 - ease));
        
        if (progress < 1) {
          requestAnimationFrame(animateScroll);
        }
      }
      
      requestAnimationFrame(animateScroll);
    }
    
    function initFooterAnimations() {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('animate-fade-in-up');
            }
          });
        },
        { 
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        }
      );
      
      document.querySelectorAll('footer > div > div > div').forEach(el => {
        observer.observe(el);
      });
    }
    
    document.addEventListener('DOMContentLoaded', initFooterAnimations);
    
    document.querySelectorAll('footer a[href*="facebook"], footer a[href*="twitter"], footer a[href*="instagram"], footer a[href*="linkedin"]').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        this.style.transform = 'scale(0.95)';
        setTimeout(() => {
          this.style.transform = 'scale(1)';
        }, 150);
        
        const message = document.createElement('div');
        message.className = 'fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-slide-in-right';
        message.textContent = 'Redirection vers ' + this.textContent.trim();
        document.body.appendChild(message);
         setTimeout(() => {
          message.remove();
        }, 3000);
      });
    });

    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    const backToTopBtn = document.getElementById('back-to-top');
    if (backToTopBtn) {
      window.addEventListener('scroll', function() {
        if (window.scrollY > 300) {
          backToTopBtn.style.opacity = '1';
          backToTopBtn.style.visibility = 'visible';
          backToTopBtn.style.transform = 'translateY(0)';
        } else {
          backToTopBtn.style.opacity = '0';
          backToTopBtn.style.visibility = 'hidden';
          backToTopBtn.style.transform = 'translateY(10px)';
        }
      });

      backToTopBtn.style.transition = 'all 0.3s ease-in-out';
      backToTopBtn.style.opacity = '0';
      backToTopBtn.style.visibility = 'hidden';
      backToTopBtn.style.transform = 'translateY(10px)';
    }

    const footerElements = document.querySelectorAll('footer .grid > div');
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const footerObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          setTimeout(() => {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }, index * 100);
        }
      });
    }, observerOptions);

    footerElements.forEach(element => {
      element.style.opacity = '0';
      element.style.transform = 'translateY(20px)';
      element.style.transition = 'all 0.6s ease-out';
      footerObserver.observe(element);
    });

    document.querySelectorAll('footer a[href="#"]').forEach(link => {
      link.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-2px) scale(1.1)';
      });
      
      link.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0) scale(1)';
      });
    });

    window.addEventListener('error', function(e) {
  console.error('Erreur détectée:', e.error);
});
  </script>

  {% block javascripts %}{% endblock %}
</body>

</html>
